   <style>
        .notification {
            position: fixed;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #4CAF50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            z-index: 1000;
            display: none;
        }
        /* Style the span element to display ellipsis when text overflows */
        #linkBox {
            display: inline-block;
            max-width: 100%;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

    </style>
<%- include ('partials/header') -%>

    <main>
        <section class="flex justify-center">
            <div class="flex flex-col md:flex-row md:justify-between py-28 sm:py-36 max-page-width mx-4 sm:mx-12 md:mx-16">
                <div class="job-details w-[100%] md:w-[60%] ">
                    <div>
                        <div class="flex flex-col gap-6 md:gap-12">
                            <div class="bg-[#D9D9D933] flex rounded-xl py-4 border-2 border-[#10B981] pb-5 md:pb-10">
                                <div class="flex gap-2 md:gap-4 md:gap-8 w-[65%] px-3">
                                    <div class="h-14 w-14 md:h-20 md:w-20"><img src="/public/images/company-logo.png" alt="company logo"></div>

                                    <div class="flex flex-col gap-2 capitalize">
                                        <h2 class="text-lg md:text-2xl font-semibold"><%= job.companyName %> </h2>
                                        <h3 class="text-md">Food Delivery Service</h3>
                                        <div class=" text-sm font-medium">
                                            <span>33+ Jobs</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="flex justify-between w-[35%]">
                                    <div class="flex items-center">
                                        <a href="/job-application?id=<%= job._id %>"><button class="rounded-lg bg-[#10B981] text-white text-sm px-2 md:px-5 xl:px-7 py-2">Apply Now</button></a>
                                    </div>
    
                                    <div class="h-10 w-10">
                                        <img src="/public/images/save-icon.png" alt="">
                                    </div>
                                </div>                               
                            </div>

                            <div class="bg-[#D9D9D933] flex rounded-xl py-6 border-2 border-[#10B981]">
                                <div class="flex flex-col gap-2 mx-5 md:mx-10 capitalize">
                                    <h1 class="text-2xl md:text-3xl font-semibold"><%= job.jobTitle %></h1>
                                    <p>Basic Job Information</p>
                                    <div class="flex flex-col gap-2 ">
                                        <div class="flex"><h3 class="w-[40%] md:w-[30%] font-semibold">Job category</h3> <h3 class="flex gap-3"><span>:</span><%= job.jobCategory %></h3></div>
                                        <div class="flex"><h3 class="w-[40%] md:w-[30%] font-semibold">Job level</h3> <h3 class="flex gap-3"><span>:</span><%= job.jobLevel %></h3></div>
                                        <div class="flex"><h3 class="w-[40%] md:w-[30%] font-semibold">No. of vacancy</h3> <h3 class="flex gap-3"><span>:</span><%= job.vacancy %></h3></div>
                                        <div class="flex"><h3 class="w-[40%] md:w-[30%] font-semibold">Job type</h3> <h3 class="flex gap-3"><span>:</span><%= job.jobType %></h3></div> 
                                        <div class="flex"><h3 class="w-[40%] md:w-[30%] font-semibold">Location</h3> <h3 class="flex gap-3"><span>:</span><%= job.companyLocation %></h3></div>  
                                        <div class="flex"><h3 class="w-[40%] md:w-[30%] font-semibold">Offered salary</h3> <h3 class="flex gap-3"><span>:</span>$<%= job.salary%></h3></div>
                                        <div class="flex"><h3 class="w-[40%] md:w-[30%] font-semibold">Apply before</h3> <h3 class="flex gap-3"><span>:</span><%= job.applyBefore %></h3></div>  
                                    </div>
                                </div>
                            </div>

                            <div class="bg-[#D9D9D933] flex rounded-xl py-6 border-2 border-[#10B981] mb-5 md:mb-0 md:pb-16">
                                <div class="flex flex-col gap-4 mx-5 md:mx-10 ">
                                    <div>
                                        <h1 class="text-lg md:text-3xl font-semibold">Job description:</h1>
                                        <p>
                                            <%= job.jobDescription %>
                                        </p>
                                    </div>
                                    
                                    <div>
                                        <h1 class="text-lg md:text-3xl font-semibold">Requirements:</h1>
                                        <div class="flex flex-col gap-1">
                                            <p> <%= job.jobRequirement %> </p>
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <h1 class="text-lg md:text-3xl font-semibold">Other skills:</h1>
                                        <div class="flex flex-col gap-1">
                                            <div class="flex gap-3"><h3 class="font-medium">1.</h3> <h3>Communication skills</h3></div>
                                            <div class="flex gap-3"><h3 class="font-medium">2.</h3> <h3>+ve attitude</h3></div>
                                            <div class="flex gap-3"><h3 class="font-medium">3.</h3> <h3>Curious to learn and adapt new technologies</h3></div>
                                            <div class="flex gap-3"><h3 class="font-medium">4.</h3> <h3>Time management</h3></div> 
                                            <div class="flex gap-3"><h3 class="font-medium">5.</h3> <h3>Team work</h3></div>  
                                            <div class="flex gap-3"><h3 class="font-medium">6.</h3> <h3>Meeting client requirements</h3></div>
                                        </div>
                                    </div>                                 
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="about-company w-[100%] md:w-[35%]">
                    <div class="flex flex-col gap-y-10 md:gap-y-4">
                        <div class="flex flex-col gap-3">
                            <h2 class="text-2xl font-medium">About Company</h2>
                            <div class="flex flex-col gap-3">
                                <p>
                                    <%= job.aboutCompany %>                                    
                                </p>
                            </div>
                        </div>

                        <div class="flex flex-col gap-3">
                            <h2 class="text-2xl font-medium">Our Location</h2>
                            <iframe class="w-[100%]" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3870.6348655737765!2d-122.08380168571889!3d37.42200417981281!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x80858070c1dbf98d%3A0x6945b9d1e45a86f!2sGolden%20Gate%20Bridge!5e0!3m2!1sen!2sus!4v1620318764065!5m2!1sen!2sus" height="350" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                        </div>

                        <div class="flex flex-col gap-3">
                            <h2 class="text-2xl font-medium">Refer to a friend</h2>
                            <div class="flex flex-row justify-between">
                                <img id="facebookIcon" src="/public/images/facebook-icon.png" alt="facebook">
                                <img id="linkedinIcon" src="/public/images/linkedin-icon.png" alt="Linkedin">
                                <img id="twitterIcon" src="/public/images/twitter-icon.png" alt="Twitter">
                                <img id="mailIcon" src="/public/images/mail.icon.png" alt="Mail">
                            </div>
                        </div>                        

                        <div class="flex flex-col gap-3">
                            <h2 class="text-2xl font-medium">Copy job URL link</h2>
                            <div class="w-full h-10 border-2 border-[#10B981] flex flex-row items-center">
                                <div class="pl-2 w-[80%] overflow-hidden">
                                    <span id="linkBox"></span>
                                </div>
                                <button id="copyButton" class="w-[20%] bg-[#10B981] h-full flex items-center justify-center text-white">Copy link</button>
                            </div>
                            
                        </div>

                        <div class="border-2 border-[#10B981] bg-[#D9D9D933] rounded-xl p-5">
                            <div class="flex flex-col gap-5">
                                <h2 class="text-2xl font-medium">Recent Jobs</h2>

                                <div class="flex flex-col gap-4">
                                    <div class="mini-job-card rounded-xl px-3 h-14 flex justify-between items-center  font-medium">
                                        <h3 class="text-xl">Frontend Developer</h3> 
                                        <button class="bg-[#10B981] px-4 h-7 rounded-xl text-white">Apply Now</button>
                                    </div>
                                    <div class="mini-job-card rounded-xl px-3 h-14 flex justify-between items-center  font-medium">
                                        <h3 class="text-xl">Backend Developer</h3> 
                                        <button class="bg-[#10B981] px-4 h-7 rounded-xl text-white">Apply Now</button>
                                    </div>
                                    <div class="mini-job-card rounded-xl px-3 h-14 flex justify-between items-center  font-medium">
                                        <h3 class="text-xl">UI/UX Designer</h3> 
                                        <button class="bg-[#10B981] px-4 h-7 rounded-xl text-white">Apply Now</button>
                                    </div>
                                    <div class="mini-job-card rounded-xl px-3 h-14 flex justify-between items-center  font-medium">
                                        <h3 class="text-xl">Full-Stack Developer</h3> 
                                        <button class="bg-[#10B981] px-4 h-7 rounded-xl text-white">Apply Now</button>
                                    </div>
                                    <div class="mini-job-card rounded-xl px-3 h-14 flex justify-between items-center  font-medium">
                                        <h3 class="text-xl">Nodejs Developer</h3> 
                                        <button class="bg-[#10B981] px-4 h-7 rounded-xl text-white">Apply Now</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div id="notification" style="display: none;" class="notification">Link copied to clipboard!</div>
    </main>

    <script>
        const linkBox = document.getElementById('linkBox');
        linkBox.innerText = window.location.href;
        // Add event listeners to each icon
        document.getElementById('facebookIcon').addEventListener('click', shareOnFacebook);
        document.getElementById('linkedinIcon').addEventListener('click', shareOnLinkedin);
        document.getElementById('twitterIcon').addEventListener('click', shareOnTwitter);
        document.getElementById('mailIcon').addEventListener('click', shareViaMail);

        // Function to share the page link on Facebook
        function shareOnFacebook() {
            navigator.share({ url: window.location.href })
                .then(() => console.log('Link shared successfully on Facebook'))
                .catch((error) => console.error('Error sharing link on Facebook:', error));
        }

        // Function to share the page link on Linkedin
        function shareOnLinkedin() {
            navigator.share({ url: window.location.href })
                .then(() => console.log('Link shared successfully on Linkedin'))
                .catch((error) => console.error('Error sharing link on Linkedin:', error));
        }

        // Function to share the page link on Twitter
        function shareOnTwitter() {
            navigator.share({ url: window.location.href })
                .then(() => console.log('Link shared successfully on Twitter'))
                .catch((error) => console.error('Error sharing link on Twitter:', error));
        }

        // Function to share the page link via Email
        function shareViaMail() {
            // Replace 'mailto:' with the recipient email address
            window.location.href = `mailto:?subject=Check%20out%20this%20page&body=${window.location.href}`;
        }

        document.getElementById('copyButton').addEventListener('click', () => {
            const url = window.location.href; // Get the current page URL
            navigator.clipboard.writeText(url).then(() => {
                // console.log('Link copied to clipboard: ' + url);
                // Show notification
                document.getElementById('notification').style.display = 'block';
                // Hide notification after 3 seconds
                setTimeout(() => {
                    document.getElementById('notification').style.display = 'none';
                }, 3000);
            }).catch(err => {
                console.error('Failed to copy link: ', err);
                alert('Failed to copy link.');
            });
        });

    </script>
</body>
</html>